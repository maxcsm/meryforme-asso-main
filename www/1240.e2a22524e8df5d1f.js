"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1240],{1240:(T,m,u)=>{u.r(m),u.d(m,{ProductsPageModule:()=>p});var f=u(6895),b=u(433),n=u(5035),h=u(4126),g=u(655),e=u(8256),v=u(1053);function P(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"ion-item",16)(1,"ion-avatar",17),e._UZ(2,"ion-icon",18),e.qZA(),e.TgZ(3,"ion-label",19),e.NdJ("click",function(i){const s=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.edit(i,s))}),e.TgZ(4,"ion-text")(5,"h2")(6,"b"),e._uU(7),e.qZA()(),e.TgZ(8,"small"),e._uU(9),e.qZA()()(),e.TgZ(10,"ion-label",20),e.NdJ("click",function(i){const s=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.edit(i,s))}),e.TgZ(11,"h2")(12,"b"),e._uU(13),e.qZA()()(),e.TgZ(14,"ion-label",19),e.NdJ("click",function(i){const s=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.edit(i,s))}),e.TgZ(15,"ion-badge",21),e._uU(16),e.qZA()(),e.TgZ(17,"ion-button",22),e.NdJ("click",function(i){const s=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.delete(i,s))}),e._UZ(18,"ion-icon",23),e.qZA()()}if(2&l){const t=r.$implicit;e.xp6(7),e.hij(" ",t.title," "),e.xp6(2),e.AsE(" ID ",t.id," ",t.content," "),e.xp6(4),e.hij(" Prix ",t.price," \u20ac "),e.xp6(3),e.AsE(" ",t.nb_free," / ",t.nb_places," ")}}function Z(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar"),e._UZ(2,"ion-buttons",1),e.TgZ(3,"ion-title"),e._uU(4," Ajouter "),e.qZA(),e.TgZ(5,"ion-buttons",24)(6,"ion-button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.modal.dismiss())}),e._uU(7," Annuler "),e.qZA()()()(),e.TgZ(8,"ion-content",25)(9,"ion-row")(10,"ion-col",26)(11,"ion-item",27)(12,"ion-label",28),e._uU(13,"Titre"),e.qZA(),e.TgZ(14,"ion-input",29),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.title=i)}),e.qZA()()()(),e.TgZ(15,"ion-row")(16,"ion-col",26)(17,"ion-item",27)(18,"ion-label",28),e._uU(19,"Description"),e.qZA(),e.TgZ(20,"ion-textarea",30),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.content=i)}),e.qZA()()()(),e.TgZ(21,"ion-row")(22,"ion-col",31)(23,"ion-item",27)(24,"ion-label",28),e._uU(25,"Intervenant"),e.qZA(),e.TgZ(26,"ion-input",32),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.intervenant=i)}),e.qZA()()(),e._UZ(27,"ion-col",31),e.qZA(),e.TgZ(28,"ion-row")(29,"ion-col",31)(30,"ion-item",27)(31,"ion-label",28),e._uU(32,"Prix"),e.qZA(),e.TgZ(33,"ion-input",33),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.price=i)}),e.qZA()()(),e._UZ(34,"ion-col",31),e.qZA(),e.TgZ(35,"ion-row")(36,"ion-col",31)(37,"ion-item",27)(38,"ion-label",28),e._uU(39,"Autorisation Parentale"),e.qZA(),e.TgZ(40,"ion-select",34),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.autorisation_parentale=i)}),e.TgZ(41,"ion-select-option",35),e._uU(42,"Oui"),e.qZA(),e.TgZ(43,"ion-select-option",36),e._uU(44,"Non"),e.qZA()()()(),e._UZ(45,"ion-col",31),e.qZA(),e.TgZ(46,"ion-row")(47,"ion-col",31)(48,"ion-item",27)(49,"ion-label",28),e._uU(50,"Nombre de place libre(s)"),e.qZA(),e.TgZ(51,"ion-input",37),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.nb_free=i)}),e.qZA()()(),e.TgZ(52,"ion-col",31)(53,"ion-item",27)(54,"ion-label",28),e._uU(55,"Nombre de place(s) total"),e.qZA(),e.TgZ(56,"ion-input",38),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.nb_places=i)}),e.qZA()()()(),e.TgZ(57,"ion-row")(58,"ion-col",31)(59,"ion-item",27)(60,"ion-label",28),e._uU(61,"Age min"),e.qZA(),e.TgZ(62,"ion-input",37),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.age_min=i)}),e.qZA()()(),e.TgZ(63,"ion-col",31)(64,"ion-item",27)(65,"ion-label",28),e._uU(66,"Age max"),e.qZA(),e.TgZ(67,"ion-input",38),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.age_max=i)}),e.qZA()()()(),e.TgZ(68,"ion-button",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.doSave())}),e._uU(69,"Enregister"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(14),e.Q6J("ngModel",t.title),e.xp6(6),e.Q6J("autoGrow",!0)("ngModel",t.content),e.xp6(6),e.Q6J("ngModel",t.intervenant),e.xp6(7),e.Q6J("ngModel",t.price),e.xp6(7),e.Q6J("ngModel",t.autorisation_parentale),e.xp6(11),e.Q6J("ngModel",t.nb_free),e.xp6(5),e.Q6J("ngModel",t.nb_places),e.xp6(6),e.Q6J("ngModel",t.age_min),e.xp6(5),e.Q6J("ngModel",t.age_max)}}class _{constructor(r,t,o,i,a,s,c,w,x,C){Object.defineProperty(this,"navCtrl",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"formBuilder",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"popoverCtrl",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"alertController",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"menu",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"loadingController",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"redditService",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"router",{enumerable:!0,configurable:!0,writable:!0,value:w}),Object.defineProperty(this,"toastCtrl",{enumerable:!0,configurable:!0,writable:!0,value:x}),Object.defineProperty(this,"loadingCtrl",{enumerable:!0,configurable:!0,writable:!0,value:C}),Object.defineProperty(this,"modal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"table",{enumerable:!0,configurable:!0,writable:!0,value:"products"}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"posts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"price",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"age_max",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"age_min",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autorisation_parentale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"intervenant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nb_free",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nb_places",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"category",{enumerable:!0,configurable:!0,writable:!0,value:"Produit"}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"wordid",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"total",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"last_page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"per_page",{enumerable:!0,configurable:!0,writable:!0,value:20}),Object.defineProperty(this,"order_id",{enumerable:!0,configurable:!0,writable:!0,value:"id"}),Object.defineProperty(this,"order_by",{enumerable:!0,configurable:!0,writable:!0,value:"asc"}),Object.defineProperty(this,"currentpage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formgroup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"validations_form",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.page=1}ngOnInit(){}ionViewWillEnter(){this.getData()}getData(){return(0,g.mG)(this,void 0,void 0,function*(){const r=yield this.loadingCtrl.create({message:"Chargement..",spinner:"bubbles"});yield r.present(),this.page=1,this.redditService.getDataBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.status,this.filter).subscribe(t=>{r.dismiss(),this.posts=t.data,this.total=t.total,this.per_page=t.per_page,this.currentpage=t.current_page,this.last_page=t.last_page})})}next(r){this.currentpage<this.last_page&&(this.page=this.page+1,this.redditService.getDataBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.status,this.filter).subscribe(t=>{let o=t.data;for(let i of o)this.posts.push(i);this.total=t.total,this.per_page=t.per_page,this.currentpage=t.current_page,this.last_page=t.last_page})),r.target.complete()}doInfinite(r){return(0,g.mG)(this,void 0,void 0,function*(){this.next(r)})}handleChange(r){const t=r.target.value.toLowerCase();this.filter=t,this.filter=r.target.value,this.page=1,setTimeout(()=>{this.getDataFilter()},1e3)}getDataFilter(){return(0,g.mG)(this,void 0,void 0,function*(){this.page=1,this.redditService.getDataBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.status,this.filter).subscribe(r=>{this.posts=r.data,this.total=r.total,this.per_page=r.per_page,this.currentpage=r.current_page,this.last_page=r.last_page})})}onChangeWord(r){return(0,g.mG)(this,void 0,void 0,function*(){this.filter=r.target.value,this.page=1,setTimeout(()=>{this.getDataFilter()},1e3)})}onCancelword(r){}reset(){this.filter="",this.page=1,this.per_page=20,this.getData()}cancel(){this.modal.dismiss(null,"cancel")}onWillDismiss(r){}doSave(){var r=JSON.stringify({title:this.title,content:this.content,url:this.url,image:this.image,price:this.price,age_min:this.age_min,age_max:this.age_max,autorisation_parentale:this.autorisation_parentale,nb_places:this.nb_places,nb_free:this.nb_free,intervenant:this.intervenant});this.redditService.addPost(this.table,r).subscribe(t=>{console.log(t),this.modal.dismiss(),setTimeout(()=>{this.router.navigateByUrl("/products/")},400)})}prev(){this.page>1&&(this.page=this.page-1,this.getData())}forward(){this.currentpage<this.last_page&&(this.page=this.last_page,this.redditService.getDataBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.status,this.filter).subscribe(r=>{console.log(r),this.posts=r.data,this.total=r.total,this.per_page=r.per_page,this.currentpage=r.current_page,this.last_page=r.last_page}))}backward(){this.currentpage>1&&(this.page=1,this.getData())}edit(r,t){return(0,g.mG)(this,void 0,void 0,function*(){this.router.navigateByUrl("/product/"+t.id)})}delete(r,t){return(0,g.mG)(this,void 0,void 0,function*(){this.id=t.id,yield(yield this.alertController.create({header:"Supprimer",message:"Voulez-vous vraiment ? ",buttons:[{text:"Annuler",role:"cancel",cssClass:"secondary",handler:i=>{}},{text:"Oui",handler:()=>{this.redditService.delete(this.table,this.id).toPromise().then(i=>{setTimeout(()=>{this.getData()},400)})}}]})).present()})}}Object.defineProperty(_,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(r){return new(r||_)(e.Y36(n.SH),e.Y36(b.qu),e.Y36(n.Dh),e.Y36(n.Br),e.Y36(n._q),e.Y36(n.HT),e.Y36(v.I),e.Y36(h.F0),e.Y36(n.yF),e.Y36(n.HT))}}),Object.defineProperty(_,"\u0275cmp",{enumerable:!0,configurable:!0,writable:!0,value:e.Xpm({type:_,selectors:[["app-products"]],viewQuery:function(r,t){if(1&r&&e.Gf(n.ki,5),2&r){let o;e.iGM(o=e.CRH())&&(t.modal=o.first)}},decls:29,vars:3,consts:[["color","secondary"],["slot","start"],["color","primary"],["slot","end"],["id","open-storie1","color","primary"],["name","add-circle"],[2,"background-color","#E4E4E4","border-radius","10px"],["size-xl","8","size-md","6","size-xs","12"],["type","text","placeholder","Rechercher une activit\xe9","debounce","200",3,"ngModel","ngModelChange","ionChange"],["size-xl","4","size-md","6","size-xs","12",2,"padding-top","12px"],["color","primary",3,"click"],["name","refresh-outline"],["button","",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Chargement..."],["trigger","open-storie1",3,"willDismiss"],["button",""],["slot","start",1,"ion-hide-sm-down"],["name","accessibility-outline"],[3,"click"],[1,"ion-hide-sm-down",3,"click"],["color","success","slot","end"],["ion-button","","outline","","item-end","","small","","color","primary",3,"click"],["name","trash-outline"],["slot","end","color","primary"],[1,"ion-padding"],["sizeLg","12","sizeMd","12","sizeXs","12"],[1,"roundedInput"],["position","stacked"],["inputmode","text","placeholder","Nom de l'activit\xe9",3,"ngModel","ngModelChange"],["placeholder","Ajoutez une description ...",3,"autoGrow","ngModel","ngModelChange"],["sizeLg","6","sizeMd","6","sizeXs","12"],["inputmode","text","placeholder","Nom de l'intervenant",3,"ngModel","ngModelChange"],["inputmode","number","placeholder","1",3,"ngModel","ngModelChange"],["multiple","false",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["inputmode","number","placeholder","0",3,"ngModel","ngModelChange"],["inputmode","number","placeholder","50",3,"ngModel","ngModelChange"],["expand","block","color","primary",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-menu-button",2),e.qZA(),e.TgZ(4,"ion-title",2),e._uU(5," Activit\xe9s "),e.qZA(),e.TgZ(6,"ion-buttons",3)(7,"ion-button",4),e._UZ(8,"ion-icon",5),e._uU(9," Ajouter "),e.qZA()()()(),e.TgZ(10,"ion-content")(11,"ion-content")(12,"ion-grid")(13,"ion-row",6)(14,"ion-col",7)(15,"ion-searchbar",8),e.NdJ("ngModelChange",function(i){return t.filter=i})("ionChange",function(i){return t.handleChange(i)}),e.qZA()(),e.TgZ(16,"ion-col",9)(17,"ion-button",10),e.NdJ("click",function(){return t.reset()}),e._UZ(18,"ion-icon",11),e.qZA(),e.TgZ(19,"ion-button",2),e._uU(20," Nombre de r\xe9sultats : "),e.TgZ(21,"b"),e._uU(22),e.qZA()()()()(),e.TgZ(23,"ion-list"),e.YNc(24,P,19,6,"ion-item",12),e.qZA(),e.TgZ(25,"ion-infinite-scroll",13),e.NdJ("ionInfinite",function(i){return t.doInfinite(i)}),e._UZ(26,"ion-infinite-scroll-content",14),e.qZA()(),e.TgZ(27,"ion-modal",15),e.NdJ("willDismiss",function(i){return t.onWillDismiss(i)}),e.YNc(28,Z,70,10,"ng-template"),e.qZA()()),2&r&&(e.xp6(15),e.Q6J("ngModel",t.filter),e.xp6(7),e.Oqu(t.total),e.xp6(2),e.Q6J("ngForOf",t.posts))},dependencies:[f.sg,b.JJ,b.On,n.BJ,n.yp,n.YG,n.Sm,n.wI,n.W2,n.jY,n.Gu,n.gu,n.ju,n.MB,n.pK,n.Ie,n.Q$,n.q_,n.fG,n.Nd,n.VI,n.t9,n.n0,n.yW,n.g2,n.wd,n.sr,n.ki,n.QI,n.j9]})});const y=[{path:"",component:_}];class d{}Object.defineProperty(d,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(r){return new(r||d)}}),Object.defineProperty(d,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:d})}),Object.defineProperty(d,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[h.Bz.forChild(y),h.Bz]})});class p{}Object.defineProperty(p,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(r){return new(r||p)}}),Object.defineProperty(p,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:p})}),Object.defineProperty(p,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[f.ez,b.UX,b.u5,n.Pc,d]})})}}]);