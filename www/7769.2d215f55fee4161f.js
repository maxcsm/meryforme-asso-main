"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7769],{7769:(y,m,u)=>{u.r(m),u.d(m,{ProductPageModule:()=>d});var b=u(6895),p=u(433),n=u(5035),c=u(4126),s=u(655),e=u(8256),h=u(1053);function f(a,i){if(1&a&&(e.TgZ(0,"ion-row",28),e._UZ(1,"ion-col",29),e.TgZ(2,"ion-col",7),e._uU(3),e.ALo(4,"date"),e.qZA(),e._UZ(5,"ion-col",29),e.qZA()),2&a){const t=i.$implicit;e.xp6(3),e.hij(" Mise \xe0 jour | le ",e.xi3(4,1,t.updated_at,"dd/MM/yyyy")," ")}}class g{constructor(i,t,o,r,v,P,Z,w){Object.defineProperty(this,"navCtrl",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"popoverCtrl",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"alertController",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"route",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"loadingController",{enumerable:!0,configurable:!0,writable:!0,value:v}),Object.defineProperty(this,"redditService",{enumerable:!0,configurable:!0,writable:!0,value:P}),Object.defineProperty(this,"router",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"toastCtrl",{enumerable:!0,configurable:!0,writable:!0,value:w}),Object.defineProperty(this,"formgroup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"validations_form",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"datestart",{enumerable:!0,configurable:!0,writable:!0,value:new Date}),Object.defineProperty(this,"modal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"file",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"editorValue",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"table",{enumerable:!0,configurable:!0,writable:!0,value:"products"}),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"push",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"posts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"edit2",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"files",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"price",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"age_max",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"age_min",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autorisation_parentale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"intervenant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nb_free",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nb_places",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ngOnInit(){this.route.params.subscribe(i=>{this.id=i.id,this.getdata()})}getdata(){return(0,s.mG)(this,void 0,void 0,function*(){this.redditService.getByid(this.table,this.id).subscribe(i=>{console.log(i),this.posts=[i],this.title=this.posts[0].title,this.content=this.posts[0].content,this.url=this.posts[0].url,this.image=this.posts[0].image,this.price=this.posts[0].price,this.age_max=this.posts[0].age_max,this.age_min=this.posts[0].age_min,this.autorisation_parentale=this.posts[0].autorisation_parentale,console.log(this.autorisation_parentale),this.intervenant=this.posts[0].intervenant,this.nb_free=this.posts[0].nb_free,this.nb_places=this.posts[0].nb_places})})}doSave(){return(0,s.mG)(this,void 0,void 0,function*(){var i={id:this.id,title:this.title,content:this.content,url:this.url,image:this.image,price:this.price,age_min:this.age_min,age_max:this.age_max,autorisation_parentale:this.autorisation_parentale,nb_places:this.nb_places,nb_free:this.nb_free,intervenant:this.intervenant};console.log(i),this.redditService.update(this.table,this.id,i).toPromise().then(t=>{console.log(t),setTimeout(()=>{this.router.navigateByUrl("/products")},600)})})}cancel(){this.modal.dismiss(null,"cancel")}onFileChange(i){this.file=i.target.files[0],console.log(this.file),this.submitForm()}submitForm(){return(0,s.mG)(this,void 0,void 0,function*(){let i=new FormData;i.append("image",this.file,this.file.name),i.append("title","Image "),console.log(i),this.redditService.uploadFormData(i).toPromise().then(t=>{console.log(t),this.image=""+t.image,console.log(this.image),setTimeout(()=>{},500)})})}editpage(){return(0,s.mG)(this,void 0,void 0,function*(){this.edit=!this.edit})}editpage2(){return(0,s.mG)(this,void 0,void 0,function*(){this.edit2=!this.edit2})}onWillDismiss(i){}}Object.defineProperty(g,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(i){return new(i||g)(e.Y36(n.SH),e.Y36(n.Dh),e.Y36(n.Br),e.Y36(c.gz),e.Y36(n.HT),e.Y36(h.I),e.Y36(c.F0),e.Y36(n.yF))}}),Object.defineProperty(g,"\u0275cmp",{enumerable:!0,configurable:!0,writable:!0,value:e.Xpm({type:g,selectors:[["app-product"]],viewQuery:function(i,t){if(1&i&&e.Gf(n.ki,5),2&i){let o;e.iGM(o=e.CRH())&&(t.formgroup=o.first)}},decls:101,vars:14,consts:[["color","secondary"],["slot","start","color","primary"],["color","primary"],["responsive-sm","",1,"ion-padding"],["sizeLg","8","sizeMd","8","sizeXs","12"],["lines","none"],["sizeLg","12","sizeMd","12","sizeXs","12"],["sizeLg","6","sizeMd","6","sizeXs","12"],[1,"roundedInput"],["position","stacked"],["inputmode","text","placeholder","Nom de l'activit\xe9",3,"ngModel","ngModelChange"],["placeholder","Ajoutez une description ...",3,"autoGrow","ngModel","ngModelChange"],["inputmode","text","placeholder","Nom de l'intervenant",3,"ngModel","ngModelChange"],["inputmode","number","placeholder","1",3,"ngModel","ngModelChange"],["inputmode","number","placeholder","50",3,"ngModel","ngModelChange"],["inputmode","number","placeholder","0",3,"ngModel","ngModelChange"],[2,"margin-top","20px","display","none"],["slot","start"],["slot","icon-only","name","attach"],["type","file",3,"change"],[2,"width","200px",3,"src"],["sizeLg","4","sizeMd","4","sizeXs","12"],["inputmode","text","placeholder","",3,"ngModel","ngModelChange"],["slot","end",1,"item-note"],["color","light","size","medium",3,"click"],["color","primary","size","medium",3,"click"],["class","divider-blue","style","margin-top: 20px;",4,"ngFor","ngForOf"],["sizeLg","4","sizeMd","4","sizeXs","12",1,"padding"],[1,"divider-blue",2,"margin-top","20px"],["sizeLg","3","sizeMd","3","sizeXs","12"]],template:function(i,t){1&i&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title",2),e._uU(5," Activit\xe9 "),e.qZA()()(),e.TgZ(6,"ion-content",3)(7,"ion-row")(8,"ion-col",4)(9,"ion-list",5)(10,"ion-row")(11,"ion-col",6)(12,"ion-row")(13,"ion-col",7),e._uU(14),e._UZ(15,"br"),e.qZA()(),e.TgZ(16,"ion-row"),e._UZ(17,"ion-col",7),e.qZA(),e.TgZ(18,"ion-row")(19,"ion-col",6)(20,"ion-item",8)(21,"ion-label",9),e._uU(22,"Titre"),e.qZA(),e.TgZ(23,"ion-input",10),e.NdJ("ngModelChange",function(r){return t.title=r}),e.qZA()()()(),e.TgZ(24,"ion-row")(25,"ion-col",6)(26,"ion-item",8)(27,"ion-label",9),e._uU(28,"Description"),e.qZA(),e.TgZ(29,"ion-textarea",11),e.NdJ("ngModelChange",function(r){return t.content=r}),e.qZA()()()(),e.TgZ(30,"ion-row")(31,"ion-col",7)(32,"ion-item",8)(33,"ion-label",9),e._uU(34,"Intervenant"),e.qZA(),e.TgZ(35,"ion-input",12),e.NdJ("ngModelChange",function(r){return t.intervenant=r}),e.qZA()()(),e._UZ(36,"ion-col",7),e.qZA(),e.TgZ(37,"ion-row")(38,"ion-col",7)(39,"ion-item",8)(40,"ion-label",9),e._uU(41,"Prix"),e.qZA(),e.TgZ(42,"ion-input",13),e.NdJ("ngModelChange",function(r){return t.price=r}),e.qZA()()(),e._UZ(43,"ion-col",7),e.qZA(),e.TgZ(44,"ion-row")(45,"ion-col",7)(46,"ion-item",8)(47,"ion-label",9),e._uU(48,"Autorisation Parentale ( 1=OUI 0=NON) "),e.qZA(),e.TgZ(49,"ion-input",14),e.NdJ("ngModelChange",function(r){return t.autorisation_parentale=r}),e.qZA()()(),e._UZ(50,"ion-col",7),e.qZA(),e.TgZ(51,"ion-row")(52,"ion-col",7)(53,"ion-item",8)(54,"ion-label",9),e._uU(55,"Nombre de place libre(s)"),e.qZA(),e.TgZ(56,"ion-input",15),e.NdJ("ngModelChange",function(r){return t.nb_free=r}),e.qZA()()(),e.TgZ(57,"ion-col",7)(58,"ion-item",8)(59,"ion-label",9),e._uU(60,"Nombre de place(s) total"),e.qZA(),e.TgZ(61,"ion-input",14),e.NdJ("ngModelChange",function(r){return t.nb_places=r}),e.qZA()()()(),e.TgZ(62,"ion-row")(63,"ion-col",7)(64,"ion-item",8)(65,"ion-label",9),e._uU(66,"Age min"),e.qZA(),e.TgZ(67,"ion-input",15),e.NdJ("ngModelChange",function(r){return t.age_min=r}),e.qZA()()(),e.TgZ(68,"ion-col",7)(69,"ion-item",8)(70,"ion-label",9),e._uU(71,"Age max"),e.qZA(),e.TgZ(72,"ion-input",14),e.NdJ("ngModelChange",function(r){return t.age_max=r}),e.qZA()()()(),e.TgZ(73,"ion-list",16)(74,"ion-row")(75,"ion-col",4)(76,"h4"),e._uU(77," Ajouter une image "),e.qZA(),e.TgZ(78,"ion-item")(79,"ion-buttons",17)(80,"ion-button"),e._UZ(81,"ion-icon",18),e.qZA()(),e.TgZ(82,"input",19),e.NdJ("change",function(r){return t.onFileChange(r)}),e.qZA()(),e._UZ(83,"img",20),e.qZA(),e._UZ(84,"ion-col",21),e.qZA(),e.TgZ(85,"ion-row")(86,"ion-col",6)(87,"ion-item",8)(88,"ion-label",9),e._uU(89,"Image "),e.qZA(),e.TgZ(90,"ion-input",22),e.NdJ("ngModelChange",function(r){return t.image=r}),e.qZA()()()()(),e.TgZ(91,"ion-row"),e._UZ(92,"ion-col",6),e.qZA(),e.TgZ(93,"ion-item")(94,"div",23)(95,"ion-button",24),e.NdJ("click",function(){return t.editpage()}),e._uU(96,"Annuler "),e.qZA(),e.TgZ(97,"ion-button",25),e.NdJ("click",function(){return t.doSave()}),e._uU(98,"Enregistrer"),e.qZA()()()()()(),e.YNc(99,f,6,4,"ion-row",26),e.qZA(),e._UZ(100,"ion-col",27),e.qZA()()),2&i&&(e.xp6(14),e.hij(" Id: ",t.id," "),e.xp6(9),e.Q6J("ngModel",t.title),e.xp6(6),e.Q6J("autoGrow",!0)("ngModel",t.content),e.xp6(6),e.Q6J("ngModel",t.intervenant),e.xp6(7),e.Q6J("ngModel",t.price),e.xp6(7),e.Q6J("ngModel",t.autorisation_parentale),e.xp6(7),e.Q6J("ngModel",t.nb_free),e.xp6(5),e.Q6J("ngModel",t.nb_places),e.xp6(6),e.Q6J("ngModel",t.age_min),e.xp6(5),e.Q6J("ngModel",t.age_max),e.xp6(11),e.s9C("src",t.image,e.LSH),e.xp6(7),e.Q6J("ngModel",t.image),e.xp6(9),e.Q6J("ngForOf",t.posts))},dependencies:[b.sg,p.JJ,p.On,n.oU,n.YG,n.Sm,n.wI,n.W2,n.Gu,n.gu,n.pK,n.Ie,n.Q$,n.q_,n.Nd,n.g2,n.wd,n.sr,n.j9,n.cs,b.uU],styles:[".divider-blue[_ngcontent-%COMP%]{height:100px;border-radius:10px;background-color:#737474;padding-top:20px;text-align:center}.list-md[_ngcontent-%COMP%]{padding-top:20px;border-radius:10px;box-shadow:1px 1px 1px 2px #d7d7d7}h2[_ngcontent-%COMP%]{color:#fff}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   .roundedInput[_ngcontent-%COMP%]{--border-color: gray;--border-radius: 5px;--border-width: 2px;--box-shadow: 2px gray;--highlight-height: 0;--background: #f8f9fa;padding-right:10px}ion-textarea.custom-textarea[_ngcontent-%COMP%]{--background: #373737;--color: #fff;--padding-end: 10px;--padding-start: 10px;--placeholder-color: #ddd;--placeholder-opacity: .8}ion-modal[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{height:90%}"]})});const _=[{path:"",component:g}];class l{}Object.defineProperty(l,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(i){return new(i||l)}}),Object.defineProperty(l,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:l})}),Object.defineProperty(l,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[c.Bz.forChild(_),c.Bz]})});class d{}Object.defineProperty(d,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(i){return new(i||d)}}),Object.defineProperty(d,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:d})}),Object.defineProperty(d,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[b.ez,p.u5,n.Pc,l]})})}}]);